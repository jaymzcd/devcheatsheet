<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>Dev Cheat Sheet</title>
<link href='style.css' rel='stylesheet'>
<link href='//dash_ref/Category/Sublime Shortcuts/1'>
<link href='//dash_ref_Sublime Shortcuts/Entry/Jump back %2F forward to last cursor location (even across files)/0'>
<link href='//dash_ref_Sublime Shortcuts/Entry/Jump to a symbol across the project/0'>
<link href='//dash_ref_Sublime Shortcuts/Entry/Jedi: Find uses/0'>
<link href='//dash_ref_Sublime Shortcuts/Entry/Jedi: Show docstring/0'>
<link href='//dash_ref_Sublime Shortcuts/Entry/Jedi: Goto definition/0'>
<link href='//dash_ref_Sublime Shortcuts/Entry/SublimeLinter: Show errors/0'>
<link href='//dash_ref_Sublime Shortcuts/Entry/Run a test/0'>
<link href='//dash_ref_Sublime Shortcuts/Entry/Open staged files/0'>
<link href='//dash_ref_Sublime Shortcuts/Entry/Open the last commit files/0'>
<link href='//dash_ref_Sublime Shortcuts/Entry/Open the files changed since master/0'>
<link href='//dash_ref_Sublime Shortcuts/Entry/Open matching (.py) files/0'>
<link href='//dash_ref/Category/General macros &amp; shortcuts/1'>
<link href='//dash_ref_General macros &amp; shortcuts/Entry/Chrome create a branch name from JIRA issue/0'>
<link href='//dash_ref_General macros &amp; shortcuts/Entry/Extract a UUID from the currently selected text/0'>
<link href='//dash_ref/Category/Jupyter/1'>
<link href='//dash_ref_Jupyter/Entry/Autoreloading of modules/0'>
<link href='//dash_ref_Jupyter/Entry/Show all cell output/0'>
<link href='//dash_ref/Category/Testing/1'>
<link href='//dash_ref_Testing/Entry/Watch a test/0'>
<link href='//dash_ref_Testing/Entry/Coverage Reporting/0'>
<link href='//dash_ref/Category/Git/1'>
<link href='//dash_ref_Git/Entry/Aliases/0'>
<link href='//dash_ref_Git/Entry/Rebase on master/0'>
<link href='//dash_ref_Git/Entry/Ignoring and Tracking files temporarily/0'>
<link href='//dash_ref_Git/Entry/Last branch matching/0'>
<link href='//dash_ref_Git/Entry/Commits across branches/0'>
<link href='//dash_ref_Git/Entry/Find branch with last commit date/0'>
<link href='//dash_ref/Category/PDB &amp; Debugging/1'>
<link href='//dash_ref_PDB &amp; Debugging/Entry/Pretty print variable/0'>
<link href='//dash_ref_PDB &amp; Debugging/Entry/Show arguments at this point/0'>
<link href='//dash_ref/Category/Terminals &amp; Tmux/1'>
<link href='//dash_ref_Terminals &amp; Tmux/Entry/tmux Capture scrollback to file/0'>
<link href='//dash_ref_Terminals &amp; Tmux/Entry/tmux Session aliases/0'>
<link href='//dash_ref_Terminals &amp; Tmux/Entry/tmux Focus pane/0'>
<link href='//dash_ref_Terminals &amp; Tmux/Entry/tmux Swap session/0'>
<link href='//dash_ref_Terminals &amp; Tmux/Entry/iTerm Open command history/0'>
<link href='//dash_ref/Category/AWS/1'>
<link href='//dash_ref/Entry/AWS/0'>
<link href='//dash_ref/Category/Docker/1'>
<link href='//dash_ref/Entry/Docker/0'>
<link href='//dash_ref/Category/Alfread Custom Searches/1'>
<link href='//dash_ref_Alfread Custom Searches/Entry/Confluence search for {term}/0'>
<link href='//dash_ref_Alfread Custom Searches/Entry/JIRA Open issue COCO-{XXXX}/0'>
<link href='//dash_ref_Alfread Custom Searches/Entry/JIRA search for {term}/0'>
<link href='//dash_ref_Alfread Custom Searches/Entry/Github open platform PR #{XXX}/0'>
</head>
<body>
<header>
<h1>Dev Cheat Sheet</h1>
</header>
<article>
<p><p>A cheat sheet of useful things I do for development and commands, shortcuts
 and so on to make use of over time.</p>

<p>I have remapped some of the default keybindings that I use a lot which is
 partly why I̕ʾve created this. Any command starting with a <code>;</code> is typically
 a <a href="https://keyboardmaestro.com/">KeyboardMaestro (KM)</a> macro via a
 <a href="https://wiki.keyboardmaestro.com/trigger/Typed_String"><em>typed string trigger</em></a>.</p>

<p>Where a command involves <code>HYPER</code> this uses KarbinerElements to set
<code>CMD+CTRL+SHIFT+OPTION</code> as a &quot;new&quot; control key. I tend to use this to provide
&quot;first class&quot; shortcuts that are unlikley to clash with any existing ones.
These very often trigger KM macros.</p>
</p>
<section class='category'>
<h2 id='//dash_ref/Category/Sublime Shortcuts/1'>
Sublime Shortcuts
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Sublime Shortcuts/Entry/Jump back %2F forward to last cursor location (even across files)/0'>
<td class='command'>
<p>
<code>CTRL + -</code>
</p>
<p>
<code>CTRL + SHIFT + -</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Jump back / forward to last cursor location (even across files)</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Sublime Shortcuts/Entry/Jump to a symbol across the project/0'>
<td class='command'>
<p>
<code>CMD + SHIFT + R</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Jump to a symbol across the project</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Sublime Shortcuts/Entry/Jedi: Find uses/0'>
<td class='command'>
<p>
<code>OPTION + F</code>
</p>
</td>
<td class='description'>
<div class='name'><p><strong>Jedi</strong>: Find uses</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Sublime Shortcuts/Entry/Jedi: Show docstring/0'>
<td class='command'>
<p>
<code>OPTION + D</code>
</p>
</td>
<td class='description'>
<div class='name'><p><strong>Jedi</strong>: Show docstring</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Sublime Shortcuts/Entry/Jedi: Goto definition/0'>
<td class='command'>
<p>
<code>OPTION + G</code>
</p>
</td>
<td class='description'>
<div class='name'><p><strong>Jedi</strong>: Goto definition</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Sublime Shortcuts/Entry/SublimeLinter: Show errors/0'>
<td class='command'>
<p>
<code>OPTION + A</code>
</p>
</td>
<td class='description'>
<div class='name'><p><strong>SublimeLinter</strong>: Show errors</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Sublime Shortcuts/Entry/Run a test/0'>
<td class='command'>
<p>
<code>HYPER + T</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Run a test</p>
</div>
<div class='notes'><p>This runs a macro within KeyboardMaestro that:</p>

<ol>
<li>Selects the current text under the cursor</li>
<li>Copies the <em>relative</em> path to the current file for the project</li>
<li>Prompts for any changes to the default arguments for <code>pytest</code></li>
<li>Optionally enable a coverage report for another path</li>
<li>Sets the clipboard to the full command we&#39;ll need to run for this test</li>
<li>Swaps to iTerm</li>
<li>Pastes in the clipboard</li>
</ol>

<p>An example of the output:</p>
<pre class="highlight shell"><span class="nv">DJANGO_DB_USER</span><span class="o">=</span>postgres <span class="se">\</span>&#x000A;ptw <span class="nt">-n</span> <span class="nt">-c</span> invoicing/tests/test_send_email_events.py <span class="nt">--</span> <span class="se">\</span>&#x000A;<span class="nt">--pdb</span> <span class="nt">-s</span>  <span class="nt">-k</span> test_send_creates_email</pre></div>
</td>
</tr>
<tr id='//dash_ref_Sublime Shortcuts/Entry/Open staged files/0'>
<td class='command'>
<p>
<code>openstaged</code>
</p>
<p>
<code>stagedfiles</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Open staged files</p>
</div>
<div class='notes'><pre class="highlight shell"><span class="nb">alias </span><span class="nv">stagedfiles</span><span class="o">=</span><span class="s1">'git diff --relative --name-only --staged | sort | uniq'</span>&#x000A;<span class="nb">alias </span><span class="nv">openstaged</span><span class="o">=</span><span class="s1">'subl $(stagedfiles)'</span></pre></div>
</td>
</tr>
<tr id='//dash_ref_Sublime Shortcuts/Entry/Open the last commit files/0'>
<td class='command'>
<p>
<code>opencommit</code>
</p>
<p>
<code>opencommits</code>
</p>
<p>
<code>lastcommit</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Open the last commit files</p>
</div>
<div class='notes'><pre class="highlight shell"><span class="k">function </span>lastcommit <span class="o">{</span>&#x000A;    <span class="c"># Returns a list of files changed in the last $1 commits - useful for</span>&#x000A;    <span class="c"># getting back to work after branch changes</span>&#x000A;    <span class="nb">local </span><span class="nv">COMMITS</span><span class="o">=</span><span class="k">${</span><span class="nv">1</span><span class="k">:-</span><span class="nv">1</span><span class="k">}</span><span class="p">;</span>&#x000A;    git log <span class="nt">--pretty</span><span class="o">=</span><span class="s2">"format:"</span> <span class="nt">--name-only</span> <span class="nt">--relative</span> <span class="nt">-n</span><span class="nv">$COMMITS</span> | <span class="nb">sort</span> | <span class="nb">uniq</span>&#x000A;<span class="o">}</span>&#x000A;&#x000A;<span class="k">function </span>opencommits <span class="o">{</span>&#x000A;    subl <span class="si">$(</span>lastcommit <span class="nv">$1</span><span class="si">)</span><span class="p">;</span>&#x000A;<span class="o">}</span>&#x000A;&#x000A;<span class="nb">alias </span><span class="nv">opencommit</span><span class="o">=</span><span class="s1">'subl $(lastcommit)'</span></pre></div>
</td>
</tr>
<tr id='//dash_ref_Sublime Shortcuts/Entry/Open the files changed since master/0'>
<td class='command'>
<p>
<code>opensince</code>
</p>
<p>
<code>commitssince</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Open the files changed since <code>master</code></p>
</div>
<div class='notes'><pre class="highlight shell"><span class="k">function </span>commitssince <span class="o">{</span>&#x000A;    <span class="nb">local </span><span class="nv">BRANCH</span><span class="o">=</span><span class="k">${</span><span class="nv">1</span><span class="k">:-</span><span class="nv">master</span><span class="k">}</span><span class="p">;</span>&#x000A;    git log <span class="nt">--pretty</span><span class="o">=</span><span class="s1">'format:'</span> <span class="nt">--name-only</span> <span class="nt">--relative</span> <span class="k">${</span><span class="nv">BRANCH</span><span class="k">}</span>..HEAD | <span class="nb">sort</span> | <span class="nb">uniq</span>&#x000A;<span class="o">}</span>&#x000A;&#x000A;<span class="nb">alias </span><span class="nv">opensince</span><span class="o">=</span><span class="s1">'subl $(commitssince)'</span></pre></div>
</td>
</tr>
<tr id='//dash_ref_Sublime Shortcuts/Entry/Open matching (.py) files/0'>
<td class='command'>
<p>
<code>openmatching</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Open matching (.py) files</p>
</div>
<div class='notes'><pre class="highlight shell"><span class="k">function </span>openmatching <span class="o">{</span>&#x000A;    <span class="k">if</span> <span class="o">[</span> <span class="nv">$# </span><span class="nt">-eq</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">then&#x000A;        </span><span class="nb">exit</span><span class="p">;</span>&#x000A;    <span class="k">fi&#x000A;&#x000A;    </span><span class="nb">local </span><span class="nv">EXTENSION</span><span class="o">=</span><span class="k">${</span><span class="nv">2</span><span class="k">:-</span><span class="p">.py</span><span class="k">}</span><span class="p">;</span>&#x000A;    subl <span class="si">$(</span>find <span class="nb">.</span> <span class="nt">-path</span> <span class="s2">"*</span><span class="nv">$1</span><span class="s2">*"</span> <span class="nt">-name</span> <span class="s2">"*</span><span class="nv">$EXTENSION</span><span class="s2">"</span> <span class="nt">-print0</span><span class="si">)</span><span class="p">;</span>&#x000A;<span class="o">}</span></pre></div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/General macros &amp; shortcuts/1'>
General macros & shortcuts
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_General macros &amp; shortcuts/Entry/Chrome create a branch name from JIRA issue/0'>
<td class='command'>
<p>
<code>HYPER + B</code>
</p>
</td>
<td class='description'>
<div class='name'><p><strong>Chrome</strong> create a branch name from JIRA issue</p>
</div>
<div class='notes'><p>This is a KM macro to run a Javascript on the page (assumes it&#39;s a JIRA
issue) and then extract the name of the ticket. This then gets &quot;slugifyed&quot;
to a suitable name for a git branch that includes the ticket ID at the start.</p>

<p>To finish off with it puts this into the clipboard and then switches to iTerm.</p>
<pre class="highlight javascript"><span class="kd">function</span> <span class="nx">get_branch_name</span><span class="p">()</span> <span class="p">{</span>&#x000A;&#x000A;    <span class="kd">var</span> <span class="nx">summary</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">summary-val</span><span class="dl">'</span><span class="p">).</span><span class="nx">innerText</span><span class="p">;</span>&#x000A;    <span class="kd">var</span> <span class="nx">issue</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">key-val</span><span class="dl">'</span><span class="p">).</span><span class="nx">innerText</span><span class="p">;</span>&#x000A;    <span class="kd">var</span> <span class="nx">detail</span> <span class="o">=</span> <span class="nx">summary</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">[^</span><span class="sr">w </span><span class="se">]</span><span class="sr">/g</span><span class="p">,</span> <span class="dl">''</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/ </span><span class="se">{2,}</span><span class="sr">/</span><span class="p">,</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/ /g</span><span class="p">,</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span><span class="p">);</span>&#x000A;    <span class="kd">var</span> <span class="nx">branch_name</span> <span class="o">=</span>  <span class="nx">issue</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">detail</span><span class="p">;</span>&#x000A;&#x000A;    <span class="nx">branch_name</span> <span class="o">=</span> <span class="nx">branch_name</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">64</span><span class="p">);</span> <span class="c1">// Keep Ali Happy ™</span>&#x000A;&#x000A;    <span class="k">if</span> <span class="p">(</span><span class="nx">branch_name</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="nx">branch_name</span> <span class="o">=</span> <span class="nx">branch_name</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">branch_name</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>&#x000A;    <span class="p">}</span>&#x000A;&#x000A;    <span class="k">return</span> <span class="nx">branch_name</span><span class="p">;</span>&#x000A;<span class="p">}</span>&#x000A;&#x000A;<span class="nx">get_branch_name</span><span class="p">()</span></pre></div>
</td>
</tr>
<tr id='//dash_ref_General macros &amp; shortcuts/Entry/Extract a UUID from the currently selected text/0'>
<td class='command'>
<p>
<code>HYPER + U</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Extract a UUID from the currently selected text</p>
</div>
<div class='notes'><p>This is simply a regex ran via KM:</p>
<pre class="highlight shell">.<span class="k">*</span><span class="o">(</span>w<span class="o">{</span>8<span class="o">}</span><span class="nt">-w</span><span class="o">{</span>4<span class="o">}</span><span class="nt">-w</span><span class="o">{</span>4<span class="o">}</span><span class="nt">-w</span><span class="o">{</span>4<span class="o">}</span><span class="nt">-w</span><span class="o">{</span>12<span class="o">})</span>.<span class="k">*</span></pre>
<p>Any match is then put into the clipboard.</p>
</div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Jupyter/1'>
Jupyter
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Jupyter/Entry/Autoreloading of modules/0'>
<td class='command'>
<p>
<code>%autoreload</code>
</p>
<p>
<code>;autoreload</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Autoreloading of modules</p>
</div>
<div class='notes'><p>The <a href="https://ipython.org/ipython-doc/stable/config/extensions/autoreload.html"><code>%autoreload</code> magic command</a>
will reload modules once itʾs been loaded.
I use the <code>;autoreload</code> macro to write out in any session:</p>
<pre class="highlight python"><span class="o">%</span><span class="n">load_ext</span> <span class="n">autoreload</span>&#x000A;<span class="o">%</span><span class="n">autoreload</span> <span class="mi">2</span></pre></div>
</td>
</tr>
<tr id='//dash_ref_Jupyter/Entry/Show all cell output/0'>
<td class='command'>
<p>
<code>ast_node_interactivity</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Show all cell output</p>
</div>
<div class='notes'><p>By default Jupyter will only output the last result from a cell. The way
I work with my maths tends to involve several steps I want to just output
using <code>Markdown(...)</code> so I find it helpful to see all of these per cell.</p>
<pre class="highlight python"><span class="kn">from</span> <span class="nn">IPython.core.interactiveshell</span> <span class="kn">import</span> <span class="n">InteractiveShell</span>&#x000A;<span class="n">InteractiveShell</span><span class="p">.</span><span class="n">ast_node_interactivity</span> <span class="o">=</span> <span class="s">"all"</span></pre></div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Testing/1'>
Testing
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Testing/Entry/Watch a test/0'>
<td class='command'>
<p>
<code>(;)ptw</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Watch a test</p>
</div>
<div class='notes'><p>Uses a KeyboardMaestro macro to output:</p>
<pre class="highlight shell"><span class="nv">DJANGO_DB_USER</span><span class="o">=</span>postgres ptw <span class="nt">-n</span> <span class="nt">-c</span> %Variable%Path%  <span class="nt">--</span> %Variable%Flags% <span class="nt">-k</span> %Variable%Pattern%</pre>
<p>If <em>with coverage</em> is selected then it includes the <code>--cov*</code> options.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Testing/Entry/Coverage Reporting/0'>
<td class='command'>
<p>
<code>coverage</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Coverage Reporting</p>
</div>
<div class='notes'><p>Coverage reporting I tend to run via Pytest with the <code>pytest-cov</code> plugin.
This is customized with the <code>coconut/.coveragerc</code> file and custom styling
within <code>coconut/coconut/coverage.css</code>.</p>

<p>Note that the <code>--cov</code> here should be in module import syntax, e.g.
<code>invoicing.utils</code>.</p>
<pre class="highlight shell">pytest&#x000A;  invoicing/tests/test_send_email_events.py&#x000A;  <span class="nt">--cov-report</span><span class="o">=</span>html:static/coverage/&#x000A;  <span class="nt">--cov</span><span class="o">=</span>invoicing.utils&#x000A;  <span class="nt">--pdb</span> <span class="nt">-s</span>&#x000A;  <span class="nt">-k</span> test_send_creates_email</pre>
<p>After tests run using the <code>;ptw</code> you can get a report from the command
line using <code>coverage report</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Git/1'>
Git
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Git/Entry/Aliases/0'>
<td class='description' colspan='2'>
<div class='name'><p>Aliases</p>
</div>
<div class='notes'><p>Since I spend most of my Git time in the command line these aliases save
a bunch of time day to day.</p>
<pre class="highlight shell"><span class="nb">alias </span><span class="nv">gp</span><span class="o">=</span><span class="s1">'git push'</span>&#x000A;<span class="nb">alias </span><span class="nv">gb</span><span class="o">=</span><span class="s1">'git branch'</span>&#x000A;<span class="nb">alias </span><span class="nv">gc</span><span class="o">=</span><span class="s1">'git checkout'</span>&#x000A;<span class="nb">alias </span><span class="nv">gmsp</span><span class="o">=</span><span class="s1">'git commit -Sjaymz@jaymz.eu -am'</span>&#x000A;<span class="nb">alias </span><span class="nv">gl</span><span class="o">=</span><span class="s1">'git log --decorate --oneline'</span>&#x000A;<span class="nb">alias </span><span class="nv">gd</span><span class="o">=</span><span class="s1">'git diff --word-diff'</span>&#x000A;<span class="nb">alias </span><span class="nv">gcl</span><span class="o">=</span><span class="s1">'git clone'</span>&#x000A;<span class="nb">alias </span><span class="nv">grb</span><span class="o">=</span><span class="s1">'git rebase -i'</span>&#x000A;<span class="nb">alias </span><span class="nv">gs</span><span class="o">=</span><span class="s1">'git stat'</span>  <span class="c"># (see alias within `~/.gitconfig`)</span>&#x000A;<span class="nb">alias </span><span class="nv">gpu</span><span class="o">=</span><span class="s1">'git pull'</span></pre>
<p>Less commonly used:</p>
<pre class="highlight shell"><span class="nb">alias </span><span class="nv">gittagsbydate</span><span class="o">=</span><span class="s1">'git log --tags --simplify-by-decoration --pretty="format:%ai %d"'</span>&#x000A;<span class="nb">alias </span><span class="nv">devheaddifflist</span><span class="o">=</span><span class="s1">'git diff --name-only develop..HEAD'</span><span class="p">;</span>&#x000A;</pre></div>
</td>
</tr>
<tr id='//dash_ref_Git/Entry/Rebase on master/0'>
<td class='command'>
<p>
<code>rebaseonmaster</code>
</p>
<p>
<code>rbm</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Rebase on master</p>
</div>
<div class='notes'><p>Fetch current and rebase the current branch with master commits</p>
<pre class="highlight shell">git fetch origin master:master<span class="p">;</span> git rebase origin/master <span class="nt">--gpg-sign</span><span class="o">=</span>jaymz@jaymz.eu</pre></div>
</td>
</tr>
<tr id='//dash_ref_Git/Entry/Ignoring and Tracking files temporarily/0'>
<td class='command'>
<p>
<code>gig</code>
</p>
<p>
<code>gtr</code>
</p>
<p>
<code>showignored</code>
</p>
<p>
<code>ignorediff</code>
</p>
<p>
<code>trackdiff</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Ignoring and Tracking files temporarily</p>
</div>
<div class='notes'><p>To deal with temporary changes I donʾt want to accidentally commit:</p>
<pre class="highlight shell"><span class="nb">alias </span><span class="nv">gig</span><span class="o">=</span><span class="s1">'git update-index --assume-unchanged'</span>&#x000A;<span class="nb">alias </span><span class="nv">gtr</span><span class="o">=</span><span class="s1">'git update-index --no-assume-unchanged'</span>&#x000A;&#x000A;<span class="c"># Then to find these:</span>&#x000A;<span class="nb">alias </span><span class="nv">showignored</span><span class="o">=</span><span class="s1">'git ls-files -v | egrep "^[hsmrck]" | cut -d  -f2'</span>&#x000A;<span class="nb">alias </span><span class="nv">ignorediff</span><span class="o">=</span><span class="s1">'gig `gd --name-only`'</span>&#x000A;&#x000A;<span class="c"># And to retrack</span>&#x000A;<span class="nb">alias </span><span class="nv">trackdiff</span><span class="o">=</span><span class="s1">'gtr `show_ignored`'</span></pre></div>
</td>
</tr>
<tr id='//dash_ref_Git/Entry/Last branch matching/0'>
<td class='command'>
<p>
<code>gclastbranchmatching</code>
</p>
<p>
<code>gclb</code>
</p>
<p>
<code>lastbranches</code>
</p>
<p>
<code>lb</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Last branch matching</p>
</div>
<div class='notes'><pre class="highlight shell"><span class="k">function </span>lastbranches <span class="o">{</span>&#x000A;    <span class="nb">local </span><span class="nv">COUNT</span><span class="o">=</span><span class="k">${</span><span class="nv">1</span><span class="k">:-</span><span class="nv">10</span><span class="k">}</span><span class="p">;</span>&#x000A;    gb <span class="nt">--sort</span><span class="o">=</span>committerdate <span class="nt">--format</span><span class="o">=</span><span class="s1">'%(refname:short)'</span> | <span class="nb">head</span> -<span class="nv">$COUNT</span>&#x000A;<span class="o">}</span>&#x000A;<span class="nb">alias </span><span class="nv">lb</span><span class="o">=</span>lastbranches<span class="p">;</span>&#x000A;&#x000A;<span class="k">function </span>gclastbranchmatching <span class="o">{</span>&#x000A;    <span class="nb">local </span><span class="nv">COUNT</span><span class="o">=</span><span class="k">${</span><span class="nv">2</span><span class="k">:-</span><span class="nv">25</span><span class="k">}</span><span class="p">;</span>&#x000A;    gc <span class="si">$(</span>lastbranches <span class="nv">$COUNT</span> | <span class="nb">grep</span> <span class="nt">-i</span> <span class="nv">$1</span><span class="si">)</span>&#x000A;<span class="o">}</span>&#x000A;<span class="nb">alias </span><span class="nv">gclb</span><span class="o">=</span>gclastbranchmatching</pre></div>
</td>
</tr>
<tr id='//dash_ref_Git/Entry/Commits across branches/0'>
<td class='command'>
<p>
<code>listnewcommitsbetweenbranches</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Commits across branches</p>
</div>
<div class='notes'><p>Since we use cherry-picking to create release branches it can be sometimes
helpful to see what <em>truely</em> differs in terms of commit logs between
branches which may have picked commits with different hashes.</p>

<p>This uses a technique found on
<a href="https://stackoverflow.com/questions/44512391/how-can-i-find-pending-commits-between-two-branches-excluding-already-cherry-pic">StackOverflow</a>.</p>
<pre class="highlight shell"><span class="k">function </span>listnewcommitsbetweenbranches <span class="o">{</span>&#x000A;    <span class="k">for </span>commit <span class="k">in</span> <span class="si">$(</span>git cherry <span class="nv">$1</span> <span class="nv">$2</span> | egrep <span class="s1">'^+'</span> | <span class="nb">awk</span> <span class="nt">-F</span><span class="s1">' '</span> <span class="s1">'{print $2}'</span><span class="si">)</span><span class="p">;</span> <span class="k">do&#x000A;        </span><span class="nv">LOG</span><span class="o">=</span><span class="si">$(</span>git <span class="nt">--no-pager</span> log <span class="nt">--pretty</span><span class="o">=</span>format:<span class="s2">"HASH:%h AUTHOR:%aN SUBJECT:%s"</span> <span class="nt">-n1</span> <span class="nv">$commit</span><span class="si">)</span>&#x000A;        <span class="nb">echo</span> <span class="nv">$LOG</span><span class="p">;</span>&#x000A;    <span class="k">done</span>&#x000A;<span class="o">}</span></pre>
<p>As an example of the output:</p>
<pre class="highlight shell"><span class="nv">$ </span>listnewcommitsbetweenbranches origin/release/1.46.0 origin/release/1.47.0&#x000A;HASH:63541805d AUTHOR:Jaymz SUBJECT:Track user ID&#x000A;HASH:0d7bb1f45 AUTHOR:Jaymz SUBJECT:Remove XXX <span class="k">for </span>now&#x000A;HASH:11b5daabe AUTHOR:Jaymz SUBJECT:Trap IntegrityError</pre></div>
</td>
</tr>
<tr id='//dash_ref_Git/Entry/Find branch with last commit date/0'>
<td class='command'>
<p>
<code>bm</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Find branch with last commit date</p>
</div>
<div class='notes'><p>This finds branches matching a given input along with the last commit date.</p>
<pre class="highlight shell">  <span class="k">function </span>bm <span class="o">{</span>&#x000A;      gb <span class="nt">-a</span> <span class="nt">--sort</span><span class="o">=</span>committerdate <span class="nt">--format</span><span class="o">=</span><span class="s1">'%(refname:short): %(committerdate:iso8601)'</span> | <span class="se">\</span>&#x000A;      <span class="nb">grep</span> <span class="nt">-i</span> <span class="nv">$1</span> | <span class="se">\</span>&#x000A;      <span class="nb">sed</span> <span class="s1">'s/origin///'</span> | <span class="se">\</span>&#x000A;      <span class="nb">sort</span> | <span class="se">\</span>&#x000A;      <span class="nb">uniq</span><span class="p">;</span>&#x000A;  <span class="o">}</span></pre></div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/PDB &amp; Debugging/1'>
PDB & Debugging
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_PDB &amp; Debugging/Entry/Pretty print variable/0'>
<td class='command'>
<p>
<code>pp</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Pretty print variable</p>
</div>
<div class='notes'><p>This will output anything with newlines or key: values</p>
</div>
</td>
</tr>
<tr id='//dash_ref_PDB &amp; Debugging/Entry/Show arguments at this point/0'>
<td class='command'>
<p>
<code>args</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Show arguments at this point</p>
</div>
<div class='notes'><p>Dumps out the current functions arguments passed</p>
</div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Terminals &amp; Tmux/1'>
Terminals & Tmux
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Terminals &amp; Tmux/Entry/tmux Capture scrollback to file/0'>
<td class='command'>
<p>
<code>capture-pane</code>
</p>
</td>
<td class='description'>
<div class='name'><p><strong>tmux</strong> Capture scrollback to file</p>
</div>
<div class='notes'><p>Here the <em>1000</em> signified the number lines back to copy. Use <code>^B</code> to
enable the command input and then:</p>
<pre class="highlight shell">:capture-pane <span class="nt">-S</span> <span class="nt">-1000</span>&#x000A;:save-buffer ~/log.txt</pre></div>
</td>
</tr>
<tr id='//dash_ref_Terminals &amp; Tmux/Entry/tmux Session aliases/0'>
<td class='command'>
<p>
<code>tc</code>
</p>
<p>
<code>ta</code>
</p>
<p>
<code>tk</code>
</p>
<p>
<code>tw</code>
</p>
<p>
<code>ts</code>
</p>
</td>
<td class='description'>
<div class='name'><p><strong>tmux</strong> Session aliases</p>
</div>
<div class='notes'><p>Some aliases to make creating/joining tmux sessions a little nicer.</p>
<pre class="highlight shell"><span class="c"># Daily usage</span>&#x000A;<span class="nb">alias </span><span class="nv">tc</span><span class="o">=</span><span class="s1">'tmux new -s'</span>&#x000A;<span class="nb">alias </span><span class="nv">ta</span><span class="o">=</span><span class="s1">'tmux attach -t'</span>&#x000A;<span class="nb">alias </span><span class="nv">ts</span><span class="o">=</span><span class="s1">'tmux list-sessions'</span>&#x000A;&#x000A;<span class="c"># Useful - should use more!</span>&#x000A;<span class="nb">alias </span><span class="nv">tw</span><span class="o">=</span><span class="s1">'tmux rename-window'</span>&#x000A;&#x000A;<span class="c"># Not used as much but handy</span>&#x000A;<span class="nb">alias </span><span class="nv">tk</span><span class="o">=</span><span class="s1">'tmux kill-session -t'</span>&#x000A;<span class="nb">alias </span><span class="nv">tn</span><span class="o">=</span><span class="s1">'tmux rename-session'</span>&#x000A;&#x000A;<span class="c"># Easier to do ALT + UP/DOWN but useful for scripts</span>&#x000A;<span class="nb">alias </span><span class="nv">tsw</span><span class="o">=</span><span class="s1">'tmux switch -t'</span></pre></div>
</td>
</tr>
<tr id='//dash_ref_Terminals &amp; Tmux/Entry/tmux Focus pane/0'>
<td class='command'>
<p>
<code>CTRL + B, Q</code>
</p>
<p>
<code>HYPER + P</code>
</p>
</td>
<td class='description'>
<div class='name'><p><strong>tmux</strong> Focus pane</p>
</div>
<div class='notes'><p>Iʾve been having issues with the &quot;right&quot; pane being selected when using my
other <code>SHIFT + UP/DOWN</code> short cut. This involves typing the pane number that
appears but it least focuses the relevant session then.</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Terminals &amp; Tmux/Entry/tmux Swap session/0'>
<td class='command'>
<p>
<code>ALT + UP/DOWN</code>
</p>
<p>
<code>CTRL + B, W</code>
</p>
</td>
<td class='description'>
<div class='name'><p><strong>tmux</strong> Swap session</p>
</div>
<div class='notes'><p>This will go through each running tmux session or let you pick from a menu</p>
</div>
</td>
</tr>
<tr id='//dash_ref_Terminals &amp; Tmux/Entry/iTerm Open command history/0'>
<td class='command'>
<p>
<code>CMD + ;</code>
</p>
<p>
<code>CMD + SHIFT + :</code>
</p>
</td>
<td class='description'>
<div class='name'><p><strong>iTerm</strong> Open command history</p>
</div>
<div class='notes'><p>Opens a searchable history list from whatever was entered across any running
terminal. This unfortunately does <a href="https://www.iterm2.com/documentation-shell-integration.html">not work</a>
but is worth remembering it exists.</p>
</div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<a name='//dash_ref/Entry/AWS/0'></a>
<h2 id='//dash_ref/Category/AWS/1'>
AWS
</h2>
<div class='scrollable'>
<table>
</table>
</div>
</section>
<section class='category'>
<a name='//dash_ref/Entry/Docker/0'></a>
<h2 id='//dash_ref/Category/Docker/1'>
Docker
</h2>
<div class='scrollable'>
<table>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Alfread Custom Searches/1'>
Alfread Custom Searches
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Alfread Custom Searches/Entry/Confluence search for {term}/0'>
<td class='command'>
<p>
<code>cf</code>
</p>
</td>
<td class='description'>
<div class='name'><p><strong>Confluence</strong> search for {term}</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Alfread Custom Searches/Entry/JIRA Open issue COCO-{XXXX}/0'>
<td class='command'>
<p>
<code>jr</code>
</p>
</td>
<td class='description'>
<div class='name'><p><strong>JIRA</strong> Open issue COCO-{XXXX}</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Alfread Custom Searches/Entry/JIRA search for {term}/0'>
<td class='command'>
<p>
<code>js</code>
</p>
</td>
<td class='description'>
<div class='name'><p><strong>JIRA</strong> search for {term}</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Alfread Custom Searches/Entry/Github open platform PR #{XXX}/0'>
<td class='command'>
<p>
<code>pr</code>
</p>
</td>
<td class='description'>
<div class='name'><p><strong>Github</strong> open platform PR #{XXX}</p>
</div>
<div class='notes'></div>
</td>
</tr>
</table>
</div>
</section>
<section class='notes'>
<h2>Notes</h2>

</section>
</article>
<footer>
Generated with <a onclick="window.dash.openExternal_(this.href); return false;" href='https://github.com/Kapeli/cheatset#readme'>cheatset</a>
</footer>
</body>
</html>
